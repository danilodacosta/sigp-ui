<app-bread-crumb page-title="Solicitação Armazém"
  [items]="[{text: 'Solicitações', link: '/solicitacao-armazem'} , {text: pageTitle}]">
</app-bread-crumb>

<app-panel-container button-link="/solicitacao-armazem" [panel-title]="pageTitle" button-text="Voltar"
  button-icon="fa-arrow-left">

  <form [formGroup]="resourceForm">

    <p-panel header="Dados da Solicitação" [toggleable]="true">

      <div class="row">

        <!-- numero -->
        <div class="col-md-4">
          <app-form-container for="numero" label="Número" [form-control]="resourceForm.get('numero')">
            <input type="text" placeholder="Número" class="form-control" id="numero" formControlName="numero">
          </app-form-container>
        </div>

        <!-- solicitante -->
        <div class="col-md-4">
          <app-form-container for="solicitante" label="Solicitante" [form-control]="resourceForm.get('solicitante')">
            <input placeholder="Solicitante" class="form-control" id="solicitante" formControlName="solicitante">
          </app-form-container>
        </div>

        <!-- data de emissão -->
        <div class="col-md-4">
          <app-form-container for="dataEmissao" label="Data de Emissão"
            [form-control]="resourceForm.get('dataEmissao')">
            <p-calendar id="date" formControlName="dataEmissao" inputStyleClass="form-control" dataType="string"
              dateFormat="dd/mm/yy" [locale]="ptBR" [showButtonBar]="true">
            </p-calendar>
          </app-form-container>
        </div>

      </div>

    </p-panel>

    <br>

    <p-panel header="Lançamentos de Produtos" [toggleable]="true">

      <button (click)="showDialog()" class="btn btn-default btn-sm float-right mb-2"><i
          class="fa fa-plus pull-leftx"></i> Produto</button>

      <table class="table table-striped table-bordered table-hover table-responsive">

        <thead class="thead-default">
          <tr>
            <th>#</th>
            <th>Produto</th>
            <th>Unidade</th>
            <th>Quantidade</th>
            <th class="text-center">Ações</th>
          </tr>
        </thead>

        <tbody>

          <tr>
            <td>1</td>
            <td>Macarrão Fortaleza</td>
            <td>PC</td>
            <td>4</td>
            <td class="text-center">
              <button title="Editar" class="m-r-5 btn-acoes">
                <i class="fa fa-pencil font-14"></i>
              </button>
              <button title="Excluir" class="m-r-5 btn-acoes">
                <i class="fa fa-trash font-14"></i>
              </button>
            </td>
          </tr>

          <tr>
            <td>2</td>
            <td>Leite em pó</td>
            <td>PC</td>
            <td>20</td>
            <td class="text-center">
              <button title="Editar" class="m-r-5 btn-acoes">
                <i class="fa fa-pencil font-14"></i>
              </button>
              <button title="Excluir" class="m-r-5 btn-acoes">
                <i class="fa fa-trash font-14"></i>
              </button>
            </td>
          </tr>

          <tr>
            <td>3</td>
            <td>Arroz Tio João</td>
            <td>KG</td>
            <td>3</td>
            <td class="text-center">
              <button title="Editar" class="m-r-5 btn-acoes">
                <i class="fa fa-pencil font-14"></i>
              </button>
              <button title="Excluir" class="m-r-5 btn-acoes">
                <i class="fa fa-trash font-14"></i>
              </button>
            </td>
          </tr>
        </tbody>

      </table>


      <p-dialog header="Adicionar Produto" [(visible)]="display" [modal]="true" [responsive]="true"
        [style]="{width: '350px', minWidth: '200px'}" [minY]="70" [maximizable]="true" [baseZIndex]="10000">
        <p>The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding.
          His beloved son Michael has just come home from the war, but does not intend to become part of his father's
          business.
          Through Michael's life the nature of the family business becomes clear. The business of the family is just
          like the head of the family,
          kind and benevolent to those who give respect,
          but given to ruthless violence whenever anything stands against the good of the family.</p>
        <p-footer>
          <button type="button" pButton icon="pi pi-check" (click)="display=false" label="Yes"></button>
          <button type="button" pButton icon="pi pi-close" (click)="display=false" label="No"
            class="ui-button-secondary"></button>
        </p-footer>
      </p-dialog>


      <button type="button" (click)="showDialog()" pButton icon="pi pi-info-circle" label="Show"></button>



    </p-panel>

    <app-server-error-messages [server-error-messages]="serverErrorMessages"></app-server-error-messages>

    <hr>
    <div class="row">
      <div class="form-group col-md-12">
        <button (click)="submitForm()" class="mb-5 float-right ui-button-success" pButton
          [disabled]="submittingForm || resourceForm.invalid" type="submit" label="Salvar Solicitação"
          icon="pi pi-check"></button>
      </div>
    </div>

  </form>

</app-panel-container>
